# Игра 2048 была создана на УП для колледжа ГБПОУ КТК

## Технологии

- Java 17
- Android
    - compileSdk: 36
    - targetSdk: 36
    - minSdk: 26
- Сборка: Gradle Kotlin DSL
- UI:
    - ConstraintLayout
    - GridLayout (поле 4×4)
    - Material Components (карточки score/best)

## Архитектура

### 1. UI (Presentation)
`MainActivity`, `GameCenter`:
- отображение игрового поля;
- обработка свайпов через GestureDetector;
- обработка стрелок через onKeyDown();
- обновление счёта и лучшего результата;
- вызовы бизнес-логики через MoveCoordinator.

### 2. Domain Model
`Field`, `Position`, `State`, `Cache`, `Side` — простые модели данных без логики.

### 3. Domain Services
Чистая логика, не зависящая от Android:
- **FieldService** — генерация нового поля, добавление плиток, поиск пустых ячеек;
- **MoveService** — движение, сжатие, слияние, подсчёт очков, проверка доступных ходов;
- **SnapshotService** — сохранение предыдущего состояния для undo;
- **CacheService** — хранение score/best и undo-данных.

### 4. MoveCoordinator
Обрабатывает направление хода:
- вычисляет количество поворотов;
- поворачивает матрицу перед ходом;
- выполняет move();
- нормализует матрицу после хода;
- проверяет наличие дальнейших ходов.

Последовательность:  
`rotate → move → normalize → check moves`.

## Обработка ввода

### Свайпы
- GestureDetector обрабатывает onFling().
- Направление переводится в State.
- Запускается rotateField() → отрисовка.

### Клавиатура
- Переопределён onKeyDown().
- Поддерживаемые клавиши:  
  KEYCODE_DPAD_LEFT / RIGHT / UP / DOWN.
- Поведение идентично свайпам.

## Геймплей

- Поле 4×4.
- Плитки 2 или 4 появляются случайно.
- После успешного хода генерируется новая плитка.
- Поддержка:
    - undo;
    - текущий счёт;
    - лучший результат;
    - автоматический рестарт при отсутствии доступных ходов.

## Интерфейс

- GridLayout для сетки 4×4.
- MaterialCardView для score/best.
- ConstraintLayout для общей компоновки.

### Изображения геймплея

![Рисунок 1](assets/CleanShot%202025-11-20%20at%2012.25.46.png)
---
![Рисунок 2](assets/CleanShot%202025-11-20%20at%2012.25.59.png)
---
![Рисунок 3](assets/CleanShot%202025-11-20%20at%2012.26.21.png)
